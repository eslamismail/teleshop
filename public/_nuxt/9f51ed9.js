(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{332:function(t,e,n){var map={"./af":194,"./af.js":194,"./ar":195,"./ar-dz":196,"./ar-dz.js":196,"./ar-kw":197,"./ar-kw.js":197,"./ar-ly":198,"./ar-ly.js":198,"./ar-ma":199,"./ar-ma.js":199,"./ar-sa":200,"./ar-sa.js":200,"./ar-tn":201,"./ar-tn.js":201,"./ar.js":195,"./az":202,"./az.js":202,"./be":203,"./be.js":203,"./bg":204,"./bg.js":204,"./bm":205,"./bm.js":205,"./bn":206,"./bn.js":206,"./bo":207,"./bo.js":207,"./br":208,"./br.js":208,"./bs":209,"./bs.js":209,"./ca":210,"./ca.js":210,"./cs":211,"./cs.js":211,"./cv":212,"./cv.js":212,"./cy":213,"./cy.js":213,"./da":214,"./da.js":214,"./de":215,"./de-at":216,"./de-at.js":216,"./de-ch":217,"./de-ch.js":217,"./de.js":215,"./dv":218,"./dv.js":218,"./el":219,"./el.js":219,"./en-au":220,"./en-au.js":220,"./en-ca":221,"./en-ca.js":221,"./en-gb":222,"./en-gb.js":222,"./en-ie":223,"./en-ie.js":223,"./en-il":224,"./en-il.js":224,"./en-in":225,"./en-in.js":225,"./en-nz":226,"./en-nz.js":226,"./en-sg":227,"./en-sg.js":227,"./eo":228,"./eo.js":228,"./es":229,"./es-do":230,"./es-do.js":230,"./es-us":231,"./es-us.js":231,"./es.js":229,"./et":232,"./et.js":232,"./eu":233,"./eu.js":233,"./fa":234,"./fa.js":234,"./fi":235,"./fi.js":235,"./fil":236,"./fil.js":236,"./fo":237,"./fo.js":237,"./fr":238,"./fr-ca":239,"./fr-ca.js":239,"./fr-ch":240,"./fr-ch.js":240,"./fr.js":238,"./fy":241,"./fy.js":241,"./ga":242,"./ga.js":242,"./gd":243,"./gd.js":243,"./gl":244,"./gl.js":244,"./gom-deva":245,"./gom-deva.js":245,"./gom-latn":246,"./gom-latn.js":246,"./gu":247,"./gu.js":247,"./he":248,"./he.js":248,"./hi":249,"./hi.js":249,"./hr":250,"./hr.js":250,"./hu":251,"./hu.js":251,"./hy-am":252,"./hy-am.js":252,"./id":253,"./id.js":253,"./is":254,"./is.js":254,"./it":255,"./it-ch":256,"./it-ch.js":256,"./it.js":255,"./ja":257,"./ja.js":257,"./jv":258,"./jv.js":258,"./ka":259,"./ka.js":259,"./kk":260,"./kk.js":260,"./km":261,"./km.js":261,"./kn":262,"./kn.js":262,"./ko":263,"./ko.js":263,"./ku":264,"./ku.js":264,"./ky":265,"./ky.js":265,"./lb":266,"./lb.js":266,"./lo":267,"./lo.js":267,"./lt":268,"./lt.js":268,"./lv":269,"./lv.js":269,"./me":270,"./me.js":270,"./mi":271,"./mi.js":271,"./mk":272,"./mk.js":272,"./ml":273,"./ml.js":273,"./mn":274,"./mn.js":274,"./mr":275,"./mr.js":275,"./ms":276,"./ms-my":277,"./ms-my.js":277,"./ms.js":276,"./mt":278,"./mt.js":278,"./my":279,"./my.js":279,"./nb":280,"./nb.js":280,"./ne":281,"./ne.js":281,"./nl":282,"./nl-be":283,"./nl-be.js":283,"./nl.js":282,"./nn":284,"./nn.js":284,"./oc-lnc":285,"./oc-lnc.js":285,"./pa-in":286,"./pa-in.js":286,"./pl":287,"./pl.js":287,"./pt":288,"./pt-br":289,"./pt-br.js":289,"./pt.js":288,"./ro":290,"./ro.js":290,"./ru":291,"./ru.js":291,"./sd":292,"./sd.js":292,"./se":293,"./se.js":293,"./si":294,"./si.js":294,"./sk":295,"./sk.js":295,"./sl":296,"./sl.js":296,"./sq":297,"./sq.js":297,"./sr":298,"./sr-cyrl":299,"./sr-cyrl.js":299,"./sr.js":298,"./ss":300,"./ss.js":300,"./sv":301,"./sv.js":301,"./sw":302,"./sw.js":302,"./ta":303,"./ta.js":303,"./te":304,"./te.js":304,"./tet":305,"./tet.js":305,"./tg":306,"./tg.js":306,"./th":307,"./th.js":307,"./tk":308,"./tk.js":308,"./tl-ph":309,"./tl-ph.js":309,"./tlh":310,"./tlh.js":310,"./tr":311,"./tr.js":311,"./tzl":312,"./tzl.js":312,"./tzm":313,"./tzm-latn":314,"./tzm-latn.js":314,"./tzm.js":313,"./ug-cn":315,"./ug-cn.js":315,"./uk":316,"./uk.js":316,"./ur":317,"./ur.js":317,"./uz":318,"./uz-latn":319,"./uz-latn.js":319,"./uz.js":318,"./vi":320,"./vi.js":320,"./x-pseudo":321,"./x-pseudo.js":321,"./yo":322,"./yo.js":322,"./zh-cn":323,"./zh-cn.js":323,"./zh-hk":324,"./zh-hk.js":324,"./zh-mo":325,"./zh-mo.js":325,"./zh-tw":326,"./zh-tw.js":326};function r(t){var e=c(t);return n(e)}function c(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=c,t.exports=r,r.id=332},333:function(t,e,n){"use strict";n.r(e);n(22);var r=n(2),c=n(190),l={props:{user:{type:Object,required:!0},active:{type:Boolean,default:!1}},methods:{solveDate:function(data){return c(data).format("ll")},setActive:function(){this.$emit("active","".concat(this.user.id))}}},o=n(15),j={computed:{user:function(){return this.$store.state.login.user}},methods:{typing:function(){Echo.private("chat").whisper("typing",{user:this.user})}}},h={middleware:"auth",components:{chatList:Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"chat_list "+(t.active?"active_chat":""),attrs:{id:"chat_list_"+t.user.id},on:{click:function(e){return e.preventDefault(),t.setActive()}}},[n("div",{staticClass:"chat_people"},[n("div",{staticClass:"chat_img"},[n("img",{attrs:{src:t.user.profile_picture_url,alt:"sunil"}})]),t._v(" "),n("div",{staticClass:"chat_ib"},[n("h5",[t._v("\n        "+t._s(t.user.full_name)+"\n        "),n("span",{staticClass:"chat_date"},[t._v(t._s(t.solveDate(t.user.created_at)))])]),t._v(" "),n("p",[t._v("\n        Test, which is a new approach to have all solutions\n        astrology under one roof.\n      ")])])])])}),[],!1,null,null,null).exports,incomming:Object(o.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"incoming_msg"},[e("div",{staticClass:"incoming_msg_img"},[e("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),this._v(" "),e("div",{staticClass:"received_msg"},[e("div",{staticClass:"received_withd_msg"},[e("p",[this._v("\n        Test which is a new approach to have all\n        solutions\n      ")]),this._v(" "),e("span",{staticClass:"time_date"},[this._v("11:01 AM | June 9")])])])])}],!1,null,null,null).exports,outgoing:Object(o.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"outgoing_msg"},[e("div",{staticClass:"sent_msg"},[e("p",[this._v("\n      Test which is a new approach to have all\n      solutions\n    ")]),this._v(" "),e("span",{staticClass:"time_date"},[this._v("11:01 AM | June 9")])])])}],!1,null,null,null).exports,sendMessage:Object(o.a)(j,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"type_msg"},[e("div",{staticClass:"input_msg_write"},[e("input",{staticClass:"write_msg",attrs:{type:"text",placeholder:"Type a message"},on:{keypress:this.typing}}),this._v(" "),this._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"msg_send_btn",attrs:{type:"button"}},[e("i",{staticClass:"fa fa-paper-plane-o",attrs:{"aria-hidden":"true"}})])}],!1,null,null,null).exports},data:function(){return{users:[],typing:""}},head:function(){return{link:[{href:"/css/chat.css",rel:"StyleSheet"},{href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css",rel:"StyleSheet"}]}},computed:{user:function(){return this.$store.state.login.user}},mounted:function(){var t=this;Echo.private("test").listen("Test",(function(t){})),Echo.private("chat").listenForWhisper("typing",(function(e){t.user.id!=e.user.id&&(t.typing="".concat(e.user.full_name," typing"),setTimeout((function(){t.typing=""}),3e3))})),this.getUsers()},methods:{setActive:function(t){for(var e=document.getElementsByClassName("chat_list"),n=0;n<e.length;n++){e[n].classList.remove("active_chat")}var r=setInterval((function(){document.getElementById("chat_list_".concat(t))&&(document.getElementById("chat_list_".concat(t)).classList.add("active_chat"),clearInterval(r))}),100)},getUsers:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/users");case 3:n=e.sent,t.users=n.data.users,t.users[0]&&t.setActive(t.users[0].id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?401==e.t0.response.status?(r=e.t0.response.data.message,t.$notify({group:"foo",text:r,type:"error"}),$nuxt.$store.commit("login/logout",{})):(c=e.t0.response.data.message,t.$notify({group:"foo",text:c,type:"error"})):t.$notify({group:"foo",text:"No internet access",type:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},m=Object(o.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container pt-4"},[n("h3",{staticClass:"text-center"},[t._v("Messaging")]),t._v(" "),n("div",{staticClass:"messaging"},[n("div",{staticClass:"inbox_msg"},[n("div",{staticClass:"inbox_people"},[t._m(0),t._v(" "),n("div",{staticClass:"inbox_chat"},t._l(t.users,(function(e,r){return n("chat-list",{key:r,attrs:{user:e},on:{active:t.setActive}})})),1)]),t._v(" "),n("div",{staticClass:"mesgs"},[n("div",{staticClass:"msg_history"},[n("incomming"),t._v(" "),n("outgoing")],1),t._v(" "),n("div",{staticClass:"typing"},[t._v(t._s(t.typing))]),t._v(" "),n("send-message")],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"headind_srch"},[e("div",{staticClass:"recent_heading"},[e("h4")]),this._v(" "),e("div",{staticClass:"srch_bar"},[e("div",{staticClass:"stylish-input-group"},[e("input",{staticClass:"search-bar",attrs:{type:"text",placeholder:"Search"}}),this._v(" "),e("span",{staticClass:"input-group-addon"},[e("button",{attrs:{type:"button"}},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])])])])}],!1,null,"57b6f1bc",null);e.default=m.exports}}]);